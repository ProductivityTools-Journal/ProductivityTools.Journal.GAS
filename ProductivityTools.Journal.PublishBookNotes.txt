function pushParagraphsToJournalApi(paragraphs)
{
  for(var i=0;i<paragraphs.length;i++){
    console.log(paragraphs[i]);
  }
}

function processDokument(id) {
  var doc = DocumentApp.openById(id);
  var body=doc.getBody().getText();
  var paragraphs=doc.getParagraphs();
  var resultParagraphts=[]
  for(var i=1;i<paragraphs.length;i++){
    var paragraphText=paragraphs[i].getText();
    var paragraphAtributes=paragraphs[i].getAttributes();
    //console.log(z.BACKGROUND_COLOR)
    if (paragraphAtributes.BACKGROUND_COLOR=="#fde096" && paragraphText!="")
    {
      //console.log(x);
      //console.log(z.BACKGROUND_COLOR)
      resultParagraphts.push(paragraphText);
      
    }
  }
  pushParagraphsToJournalApi(resultParagraphts);
}

function processDirectory() {
  var folders = DriveApp.getFoldersByName("Book notes").next();
  var files = folders.getFiles()
  while (files.hasNext()) {
    file = files.next();
    name = file.getName();
    console.log(name);
    processDokument(file.getId());
  }


}

function myFunction() {
  processDirectory();
}
